```
РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ
Факультет физико-математических и естественных наук
Кафедра прикладной информатики и теории вероятностей
```
Студент:Эйвази Мани
Группа:НПИбд- 03 - 24
Студенческий билет No: 1032245107

Цикл Загрузки Windows

### Презентация No 11


## Цикл Загрузки Windows

От включения питания до рабочего стола: подробный обзор


##### Общая Схема Загрузки

```
Подача питания
Запуск аппаратных
цепей
```
```
POST
Самотестирование
компонентов
```
```
Загрузка
прошивки
Инициализация
BIOS/UEFI
```
```
Загрузчик
Загрузка и передача
ядру
```
Процесс загрузки Windows — это сложная последовательность шагов, начинающаяся с момента подачи питания и заканчивающаяся полным запуском
операционной системы и появлением рабочего стола. Понимание каждого этапа критически важно для диагностики проблем.


Роль Прошивки: BIOS и UEFI

```
Базовая Система Ввода-
Вывода (BIOS/UEFI)
Первым шагом после включения питания
является выполнение кода прошивки. Прошивка
отвечает за:
```
- POST (Power-On Self-Test): Проверка
    аппаратного обеспечения.
- Инициализация устройств: Подготовка
    компонентов для работы.
- Выбор загрузочного устройства:
    Определение, откуда загружать ОС.
BIOS и UEFI — это две основные разновидности
прошивки, каждая со своими особенностями.


## UEFI против BIOS: Эволюция Загрузки

```
BIOS (Basic
Input/Output
System)
Традиционная прошивка,
использующая MBR (Master
Boot Record) для загрузки.
Ограничена 2 ТБ дисками,
менее гибкая и медленная.
```
```
UEFI (Unified
Extensible Firmware
Interface)
Современная прошивка с
поддержкой GPT (GUID
Partition Table),
обеспечивающая
безопасную загрузку,
быстрый старт и
расширенные возможности
управления.
```
UEFI стал стандартом для большинства новых систем, предлагая улучшенную безопасность и производительность.


#### Windows Boot Manager (bootmgr)

```
Место Загрузчика
После того как прошивка определит
загрузочное устройство, управление
передается загрузчику Windows – bootmgr.
Он располагается в специальном разделе
(System Reserved или EFI System Partition) и
является ключевым звеном в цепочке загрузки.
```

#### BCD: Хранилище Конфигурации Загрузки

```
Boot Configuration Data
BCD — это база данных, содержащая
информацию о загружаемых операционных
системах и параметрах загрузки. Она пришла
на смену файлу boot.ini.
```
- Структура: Объекты загрузки, параметры
    ОС, настройки среды восстановления.
- Редактирование: Утилита bcdedit
    позволяет просматривать и изменять
    записи BCD. Например, можно добавить
    запись для другой ОС или изменить
    таймаут загрузки.


## Загрузка Ядра: winload.exe/winload.efi

01

Исполнение Загрузчика

После анализа BCD, bootmgr запускает winload.exe (для BIOS)
или winload.efi (для UEFI).

```
02
Загрузка ntoskrnl.exe
Основное ядро операционной системы, ntoskrnl.exe,
загружается в память.
```
03

HAL и Реестр

Загружается уровень аппаратных абстракций (HAL) и
системный улей реестра, содержащий конфигурацию
оборудования и драйверов.

```
04
Драйверы и Службы
Инициализируются необходимые драйверы устройств и
базовые системные службы.
```
На этом этапе операционная система начинает обретать свою функциональность.


###### Инициализация Ядра и Создание Абстракций

Фаза 0: Инициализация Ядра

- Минимальная инициализация аппаратного
    обеспечения.
- Загрузка критически важных драйверов.
- Подготовка памяти и прерываний.

Фаза 1: Инициализация
Системы

- Создание основных системных структур.
- Загрузка HAL (Hardware Abstraction Layer).
- Формирование абстракций для
    взаимодействия ОС с оборудованием.

Эти фазы обеспечивают бесшовное взаимодействие между ядром ОС и разнообразным аппаратным обеспечением.


## Загрузка Сессии и Запуск Служб

```
smss.exe
Диспетчер сессий
запускает
пользовательские
сессии и подсистемы.
```
```
csrss.exe
Подсистема
клиент/серверного
времени
выполнения,
отвечающая за
графический
интерфейс.
```
```
wininit.exe
Инициализирует
системные службы
и запускает
процессы,
необходимые для
полноценной
работы ОС.
```
```
winlogon.exe
Управляет экраном
входа в систему,
обработкой учетных
данных и
безопасностью.
```
На этом этапе запускаются все необходимые службы, и система готовится к взаимодействию с пользователем.


###### Заключение: Диагностика и Восстановление

```
Типовые Проблемы
Проблемы с загрузкой Windows могут быть
вызваны повреждением BCD, отсутствием
файлов загрузчика, неисправностью жесткого
диска или конфликтами драйверов.
Методы Восстановления
```
- Среда восстановления Windows (Windows
    RE): Доступна при сбоях загрузки.
- Загрузочная флешка: Позволяет
    восстановить систему с внешнего
    носителя.
- Утилиты командной строки: bcdedit,
    bootrec и chkdsk для ручного устранения
    неполадок.
Понимание процесса загрузки помогает системным администраторам и инженерам по безопасности эффективно диагностировать и решать
проблемы, обеспечивая стабильную работу систем.


# Спасибо за внимание


