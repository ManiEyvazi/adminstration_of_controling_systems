![](media/image1.png){width="1.75in" height="0.6240912073490814in"}

**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

Факультет физико-математических и естественных наук\
Кафедра прикладной информатики и теории вероятностей

**ОТЧЕТ ПО ЛАБОРАТОРНОЙ РАБОТЕ № 14**

Управление разделами диска и файловыми системами

**Студент:** Эйвази Мани

**Группа:** НПИбд-03-24

**Студенческий билет №:** 1032245107

**Цель работы**

Получить практические навыки управления дисковым пространством в
операционной системе Linux. Освоить методы создания, удаления и
изменения разделов диска с использованием таблиц разделов MBR и GPT,
форматирования разделов в различные файловые системы (ext4, XFS, swap),
ручного и автоматического монтирования через /etc/fstab.

**Первый шаг:** В интерфейсе VirtualBox добавлены два новых виртуальных
диска размером 512 МБ каждый, подключенных к контроллеру SATA.При
загрузке системы новые диски определяются
как /dev/sdb и /dev/sdc (проверка: fdisk -l или lsblk).

**Второй шаг:** Работа с диском /dev/sdb в интерактивном режиме fdisk.
p (print) --- показывает текущую (пустую) таблицу разделов.

![](media/image2.png){width="6.5in" height="6.476388888888889in"}

![](media/image3.png){width="6.5in" height="6.045138888888889in"}

> **Третий шаг:** Создание основного раздела размером 100 МБ.  Создан
> раздел /dev/sdb1 типа Linux (код 83).
>
> ![](media/image4.png){width="6.5in" height="7.070833333333334in"}

**Четвертый шаг**: Уведомление ядра об изменениях в таблице разделов без
перезагрузки. Создание логических разделов с помощью fdisk.

![](media/image5.png){width="6.5in" height="0.8034722222222223in"}

**Пятый шаг:** Для создания логических дисков (более 4 разделов)
необходим расширенный раздел. Создан расширенный раздел /dev/sdb4,
занимающий все свободное место после /dev/sdb1.

> ![](media/image5.png){width="6.49975612423447in"
> height="2.342361111111111in"}
>
> **Шестой шаг:** Добавление логического раздела размером 101 МБ.
>  Создан логический раздел /dev/sdb5.
>
> ![](media/image6.png){width="6.5in" height="1.1296292650918636in"}
>
> **Седьмой шаг:** Добавление еще одного логического раздела размером
> 100 МБ и изменение его типа.  Создан раздел /dev/sdb6 с
> типом 82 (Linux swap).
>
> ![](media/image6.png){width="6.499663167104112in"
> height="4.9351859142607175in"}
>
> **Восьмой шаг:** Подготовка раздела подкачки к использованию и его
> включение. Раздел подкачки успешно добавлен и используется системой.
>
> mkswap /dev/sdb6 *( Создание сигнатуры swap)*
>
> swapon /dev/sdb6 *( Активация swap-пространства)*
>
> free -m *( Проверка: общий объем swap увеличился)*
>
> **девяти шаг:** Создание GPT-таблицы разделов и добавление раздела на
> второй диск. На диске /dev/sdc создана таблица разделов GPT и
> раздел /dev/sdc1 размером 100 МБ.
>
> ![](media/image7.png){width="6.5in" height="8.009027777777778in"}
>
> **Десятый шаг:** Форматирование раздела /dev/sdb1 в XFS и присвоение
> метки. Раздел /dev/sdb1 готов к использованию с файловой системой XFS.
>
> mkfs.xfs /dev/sdb1
>
> xfs_admin -L xfsdisk /dev/sdb1
>
> blkid /dev/sdb1 *( Проверка: появилась метка LABEL=\"xfsdisk\")*
>
> **Работа с NetworkManager через текстовый пользовательский
> интерфейс.**

- Команда: nmtui

- Результат: Открывается меню, позволяющее в удобной форме
  просматривать, редактировать, активировать и удалять подключения, а
  также изменять параметры системы (Edit a connection, Activate a
  connection и т.д.). Все изменения, внесенные через nmtui,
  соответствуют командам nmcli.

**заключение**

В ходе лабораторной работы были успешно освоены ключевые навыки В ходе
лабораторной работы были успешно освоены фундаментальные навыки
управления дисковым пространством в Linux:

1.  **Работа с таблицами разделов:**

    - **MBR (fdisk):** Освоена классическая схема разделов. Созданы
      первичный (primary) и расширенный (extended) разделы, внутри
      расширенного созданы логические (logical) разделы. Изучено
      ограничение MBR --- не более 4 первичных разделов, что решается
      созданием расширенного раздела-контейнера.

    - **GPT (gdisk):** Освоена современная схема разделов. Созданы
      разделы напрямую, без необходимости в расширенном разделе. GPT
      поддерживает до 128 разделов \"из коробки\", использует UUID для
      идентификации типов и имеет резервную копию таблицы в конце диска.

2.  **Форматирование и файловые системы:**

    - **XFS:** Высокопроизводительная журналируемая ФС, часто
      используется для больших файлов и на серверах. Метка
      устанавливается через xfs_admin.

    - **EXT4:** Стандартная ФС для Linux, преемник EXT3. Метка и опции
      монтирования по умолчанию настраиваются через tune2fs.

    - **Swap:** Специальный раздел (или файл) для виртуальной памяти.
      Подготавливается mkswap и активируется swapon.

3.  **Монтирование:**

    - **Ручное:** Временное подключение разделов через mount и
      отключение через umount. Изменения сбрасываются после
      перезагрузки.

    - **Автоматическое (постоянное):** Настройка через файл /etc/fstab.
      Ключевой навык --- использование **UUID** вместо имени устройства
      (/dev/sdX), так как UUID уникален и не меняется при изменении
      порядка подключения дисков.

    - **Проверка:** Команда mount -a позволяет протестировать
      корректность fstab без перезагрузки.

4.  **Управление:**

    - partprobe**:** Критически важная команда для применения изменений
      таблицы разделов без перезагрузки.

    - blkid**:** Незаменимая утилита для получения UUID, типа ФС и метки
      раздела.

Работа сформировала целостное понимание цикла жизни дискового раздела в
Linux: подключение диска -\> создание таблицы разделов -\> создание
разделов -\> форматирование (создание ФС) -\> монтирование (ручное или
постоянное). Эти навыки являются базовыми для любого системного
администратора и необходимы при установке системы, расширении хранилища
и настройке серверов.

1.  Какой инструмент используется для создания разделов GUID?

> gdisk (GPT fdisk) или parted.

2.  Какой инструмент применяется для создания разделов MBR?

> fdisk.

3.  Какой файл используется для автоматического монтирования разделов во
    время загрузки?

> /etc/fstab.

4.  Какой вариант монтирования целесообразно выбрать, если необходимо,
    чтобы файловая система не была автоматически примонтирована во время
    загрузки?

> Опция noauto в /etc/fstab.

5.  Какая команда позволяет форматировать раздел с типом 82 с
    соответствующей файловой системой?

> mkswap /dev/\<раздел\>.

6.  Вы только что добавили несколько разделов для автоматического
    монтирования при загрузке. Как можно безопасно проверить, будет ли
    это работать без реальной перезагрузки?

> mount -a (монтирует все, что указано в /etc/fstab).

7.  Какая файловая система создаётся, если вы используете
    команду mkfs без какой-либо спецификации файловой системы?

> По умолчанию создаётся EXT2 (если не перенастроено в системе).

8.  Как форматировать раздел EXT4?

> mkfs.ext4 /dev/\<раздел\> или mkfs -t ext4 /dev/\<раздел\>.

9.  Как найти UUID для всех устройств на компьютере?

> blkid (с правами root).
