РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ

Факультет физико-математических и естественных наук

Кафедра прикладной информатики и теории вероятностей

Студент:Эйвази Мани

Группа:НПИбд- 03 - 24

Студенческий билет No: 1032245107

Настройка Сети в RHEL / CentOS

### Презентация No 12


## Настройка Сети в RHEL /

## CentOS

Методы и Инструменты для Системных Администраторов


```
ВВЕДЕНИЕ
```
Обзор Сетевой Подсистемы Linux

В современных дистрибутивах Red Hat Enterprise
Linux и CentOS управление сетевыми
интерфейсами значительно эволюционировало.
Ключевую роль играет NetworkManager —
динамический инструмент для настройки сети,
адаптирующийся к различным сценариям
(проводное, беспроводное, VPN).

Важно понимать различия между версиями: в
CentOS 6 преобладали традиционные скрипты,
тогда как в CentOS 7, 8 и 9 NetworkManager стал
стандартом де-факто, предлагая мощные
инструменты nmcli и nmtui.

```
Современные имена интерфейсов
Сетевые интерфейсы теперь именуются единообразно: вместо привычного eth
используются имена типа enp0s3, ens33, отражающие топологию PCI-устройств. Это
повышает предсказуемость при перезагрузке системы или изменении оборудования.
```

ДИАГНОСТИКА

#### Просмотр Сетевых Интерфейсов

Прежде чем приступать к настройке, необходимо определить текущее состояние и имена сетевых интерфейсов.

ip link

Отображает список всех

сетевых интерфейсов и их

текущее состояние

(UP/DOWN, MAC-адрес). Это

первый шаг для

идентификации.

ip addr

Показывает IP-адреса, маски

подсети и статус для

каждого интерфейса.

Незаменимо для проверки

назначенных адресов.

nmcli dev status

Инструмент NetworkManager

CLI, предоставляющий

краткий обзор состояния

устройств, их тип и общую

доступность.


```
НАСТРОЙКА
```
Традиционный Метод (Legacy) через ifcfg

В ранних версиях RHEL/CentOS, а также для

совместимости, использовались

конфигурационные файлы

/etc/sysconfig/network-scripts/ifcfg-

<имя_интерфейса>.

Это ручной метод, требующий

редактирования файлов в текстовом

редакторе. Он особенно актуален в средах, где

NetworkManager отключен или не

используется.
Ключевые параметры:

- BOOTPROTO: dhcp или static
- ONBOOT: yes (включать при загрузке)
- IPADDR: IP-адрес
- NETMASK: Маска подсети
- GATEWAY: Шлюз по умолчанию
- DNS: Адреса DNS-серверов


```
ПРИМЕР
```
Настройка Статического IP через ifcfg

Файл:

/etc/sysconfig/network-

scripts/ifcfg-enp0s
TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="static"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="enp0s3"
UUID="xxxxxxxx-xxxx-xxxx-xxxx-
xxxxxxxxxxxx"
DEVICE="enp0s3"
ONBOOT="yes"
IPADDR="192.168.1.100"
NETMASK="255.255.255.0"
GATEWAY="192.168.1.1"
DNS1="8.8.8.8"
DNS2="8.8.4.4"

После сохранения изменений необходимо
перезапустить службу сети: systemctl
restart network. В некоторых случаях может
потребоваться systemctl restart
NetworkManager или перезагрузка системы.

```
Важно: Если NetworkManager активен, он может переопределить настройки ifcfg.
Рекомендуется отключать NetworkManager при использовании ifcfg в более старых
системах, или управлять соединениями через nmcli/nmtui.
```

```
ПРИМЕР
```
Настройка DHCP через ifcfg

```
Примечание: При использовании DHCP-сервера, он автоматически предоставит IP-
адрес, маску подсети, шлюз и DNS-серверы. Убедитесь, что DHCP-сервер доступен в
вашей сети.
```
```
Файл:
/etc/sysconfig/network-
scripts/ifcfg-enp0s
TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="dhcp"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="enp0s3"
UUID="xxxxxxxx-xxxx-xxxx-xxxx-
xxxxxxxxxxxx"
DEVICE="enp0s3"
ONBOOT="yes"
```
```
Для активации DHCP-настроек, как и в случае со
статическим IP, необходимо перезапустить
сетевые службы: systemctl restart network.
```

```
СОВРЕМЕННЫЙ ПОДХОД
```
##### Управление Сетью с nmcli

nmcli — это мощный инструмент командной строки для взаимодействия с NetworkManager. Он позволяет управлять всеми аспектами сетевых

соединений, динамически применять изменения без перезагрузки.

Создание и изменение

nmcli connection add type ethernet

con-name my_eth ifname enp0s

Настройка IP

nmcli connection modify my_eth

ipv4.method manual ipv4.addresses

192.168.1.100/24 ipv4.gateway

192.168.1.

Добавление DNS

nmcli connection modify my_eth

ipv4.dns "8.8.8.8 8.8.4.4"

Активация

nmcli connection up my_eth

Перезапуск NetworkManager

systemctl restart NetworkManager (или nmcli networking off

&& nmcli networking on)


```
ИНТЕРФЕЙСЫ
```
Графический и Псевдографический Интерфейсы

nmtui: Текстовый интерфейс

nmtui предоставляет удобный псевдографический интерфейс для управления NetworkManager.
Это отличный выбор для серверов без GUI, позволяющий быстро настраивать сетевые
соединения с помощью стрелок и клавиши Enter.

```
Cockpit: Веб-консоль
Начиная с RHEL 8+, Cockpit предлагает
полноценный веб-интерфейс для
администрирования сервера, включая
детальную настройку сети. Это значительно
упрощает управление для системных
администраторов.
```

```
ДОПОЛНИТЕЛЬНО
```
###### Настройка DNS и Имени Хоста

Настройка DNS

/etc/resolv.conf: этот файл содержит

информацию о DNS-серверах. При

использовании NetworkManager он часто

генерируется автоматически. Для

статических настроек NetworkManager

позволяет указать DNS-серверы через nmcli

connection modify или nmtui.

```
Совет: Прямое редактирование
/etc/resolv.conf может быть
перезаписано NetworkManager.
Используйте инструменты NM для
устойчивых изменений.
```
Настройка имени хоста

Команда hostnamectl используется для управления именем хоста системы:

- hostnamectl set-hostname new_hostname
- hostnamectl set-hostname "New Hostname" --pretty
- hostnamectl (для просмотра текущего имени)


```
ИТОГИ
```
Заключение и Ключевые Выводы

ifcfg (CentOS 6)

```
Ручная настройка через
файлы в
/etc/sysconfig/network-scripts.
```
nmcli / nmtui

```
Командный и консольный
интерфейсы для
NetworkManager.
```
Cockpit GUI

```
Удобный веб-интерфейс для
RHEL/CentOS 8 и выше.
```
Проверка connectivity

```
Тестирование ping и базовая
диагностика сети.
```
Выбор метода: для старых систем или специфических сценариев используйте ifcfg. Для современных RHEL/CentOS предпочтительны инструменты

NetworkManager — nmcli и nmtui, а также Cockpit для графического управления.

Проверка: Всегда проверяйте связь с помощью ping после внесения изменений.

Типовые ошибки: Неправильные IP-адреса, маски, шлюзы, DNS, отсутствие активации соединения или конфликты между ifcfg и NetworkManager.


# Спасибо за внимание


