![](media/image1.png){width="1.75in" height="0.6240912073490814in"}

**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

Факультет физико-математических и естественных наук\
Кафедра прикладной информатики и теории вероятностей

**ОТЧЕТ ПО ЛАБОРАТОРНОЙ РАБОТЕ № 12**

Настройки сети в Linux

**Студент:** Эйвази Мани

**Группа:** НПИбд-03-24

**Студенческий билет №:** 1032245107

**Цель работы**

Получить практические навыки настройки и управления сетевыми параметрами
в Linux. Освоить использование современных утилит командной строки
(ip из пакета iproute2, nmcli) для проверки конфигурации, управления
сетевыми подключениями, маршрутизацией, а также диагностики сетевых
проблем.

**Первый шаг:** Получение детальной информации о всех сетевых
интерфейсах, включая статистику передачи данных. Вывод показывает список
интерфейсов (например, lo (loopback), enp0s3, wlp2s0). Для каждого
указаны:

- **Состояние:** UP/DOWN (включен/выключен).

- **MTU:** Максимальный размер передаваемого блока.

- **MAC-адрес:** Адрес канального уровня.

- **Статистика (с флагом **-s**):** Количество переданных (TX) и
  полученных (RX) пакетов, байтов, ошибок (errs), отброшенных пакетов
  (drop). Например, для enp0s3: state UP, mtu 1500\... RX: bytes 123456
  packets 789\... errors 0 dropped 0\... Это позволяет оценить нагрузку
  и наличие проблем на интерфейсе.

![](media/image2.png){width="6.5in" height="1.90625in"}

> **Второй шаг:** Определение путей, по которым пакеты направляются в
> другие сети. Вывод содержит строки маршрутов.
>
> ![](media/image2.png){width="6.5in" height="0.46875in"}
>
> **Третий шаг:** Определение IPv4 и IPv6 адресов, назначенных каждому
> сетевому интерфейсу.Для каждого интерфейса выводится список адресов.
> Для основного Ethernet-интерфейса (enp0s3) можно увидеть:
>
> 2: enp0s3: \<BROADCAST,MULTICAST,UP,LOWER_UP\> mtu 1500 \...
>
> link/ether 08:00:27:xx:xx:xx brd ff:ff:ff:ff:ff:ff
>
> inet 192.168.1.100/24 brd 192.168.1.255 scope global dynamic
> noprefixroute enp0s3
>
> valid_lft 86395sec preferred_lft 86395sec
>
> inet6 fe80::a00:27ff:fexx:xxxx/64 scope link noprefixroute
>
> valid_lft forever preferred_lft forever
>
> ![](media/image2.png){width="6.5in" height="2.34375in"}

**Четвертый шаг**: Тестирование доступности внешнего узла (DNS-сервер
Google).Вывод 64 bytes from 8.8.8.8: icmp_seq=1 ttl=\... подтверждает
успешную отправку и получение ICMP-пакетов, что свидетельствует о
корректной настройке сетевого подключения и маршрутизации.

![](media/image2.png){width="6.5in" height="0.8034722222222223in"}

> **Пятый шаг:** Добавление дополнительного адреса к существующему
> интерфейсу для тестирования.После выполнения команды ip addr
> show для enp0s3 появится новая строка: inet 10.0.0.10/24 scope global
> \.... Это изменение временное и сбросится после перезагрузки.
>
> ![](media/image3.png){width="6.5in" height="5.541666666666667in"}
>
> **Шестой шаг:** Использование устаревшей, но знакомой
> утилиты ifconfig. ifconfig показывает базовую информацию (IP, MAC,
> статус), но менее подробную, чем ip. Например, она не отображает
> таблицу маршрутизации и имеет более ограниченный функционал для
> настройки. ip является ее современной и рекомендуемой заменой.
>
> ![](media/image4.png){width="6.5in" height="2.5833333333333335in"}
>
> **Седьмой шаг:** Определение, какие порты TCP/UDP прослушиваются
> сервисами на системе.Вывод показывает список сокетов. Например, tcp
> LISTEN 0 128 \*:22 \*:\* означает, что служба SSH слушает на TCP-порту
> 22 на всех интерфейсах. Это критически важная команда для аудита
> безопасности и диагностики.
>
> ![](media/image4.png){width="6.5in" height="1.6041666666666667in"}
>
> **Восьмой шаг:** Получение списка всех профилей подключений,
> управляемых NetworkManager.Отображается таблица с именами подключений
> (NAME), UUID, тип (TYPE), устройство (DEVICE) и состояние (STATE).
> Например, может быть активное подключение с именем Wired connection 1.
> Создание профиля для автоматического получения настроек от
> DHCP-сервера.Создан новый неактивный профиль dhcp-profile для
> интерфейса enp0s3. Создание профиля с фиксированным IP-адресом и
> шлюзом.Создан профиль static-profile с указанными статическими
> параметрами и отключенным автоподключением (autoconnect no).
>
> ![](media/image4.png){width="6.5in" height="1.2215277777777778in"}

- **девяти шаг:** Переключение интерфейса на использование статической
  конфигурации.После активации команда ip addr show подтверждает, что
  интерфейсу enp0s3 назначен IP-адрес 10.0.0.10/24. Состояние профиля
  в nmcli connection show меняется на activated. Переключение обратно на
  автоматическое получение адреса.Интерфейс снова получает адрес от
  DHCP-сервера. Статический адрес 10.0.0.10 удаляется. Запрет профилю
  подключаться автоматически при загрузке системы.Параметр сохранен в
  конфигурации профиля. Настройка DNS для статического подключения.
  Важно использование + для добавления, а не замены. После активации
  профиля (nmcli connection up \"static-profile\")
  файл /etc/resolv.conf автоматически обновится, содержая оба
  DNS-сервера.

> ![](media/image5.png){width="6.5in" height="2.21875in"}
>
> **Десятый шаг:** Настройка нескольких IP-адресов на одном интерфейсе.
> Команда ip addr show подтвердит наличие на интерфейсе enp0s3 двух
> адресов: 10.0.0.20/24 и 10.20.30.40/16.
>
> ![](media/image6.png){width="6.5in" height="1.8298611111111112in"}
>
> **Работа с NetworkManager через текстовый пользовательский
> интерфейс.**

- Команда: nmtui

- Результат: Открывается меню, позволяющее в удобной форме
  просматривать, редактировать, активировать и удалять подключения, а
  также изменять параметры системы (Edit a connection, Activate a
  connection и т.д.). Все изменения, внесенные через nmtui,
  соответствуют командам nmcli.

**заключение**

В ходе лабораторной работы были успешно освоены ключевые навыки
настройки и управления сетью в современных дистрибутивах Linux:

1.  **Утилиты низкоуровневого управления (**iproute2**):** Освоен мощный
    и унифицированный набор команд ip для полного контроля над сетевым
    стеком:

    - ip link --- управление состоянием интерфейсов
      (включение/выключение, просмотр MAC).

    - ip addr --- управление IP-адресацией (добавление, удаление,
      просмотр).

    - ip route --- управление таблицей маршрутизации.

2.  **Управление через NetworkManager (**nmcli**, **nmtui**):** Освоен
    высокоуровневый инструмент для управления профилями подключений,
    который является стандартом в современных desktop- и
    server-дистрибутивах:

    - nmcli позволяет выполнять все операции из командной строки, что
      идеально для удаленного управления и автоматизации.

    - Возможность создавать несколько профилей (DHCP, статический) для
      одного физического интерфейса и быстро переключаться между ними.

    - Удобное управление дополнительными параметрами: DNS-серверы,
      маршруты, автоподключение.

    - nmtui предоставляет интуитивно понятный текстовый интерфейс для
      интерактивной настройки.

3.  **Диагностика и мониторинг:** Получены навыки использования
    утилит ping для проверки связности, ss для анализа открытых портов и
    сетевых соединений. Показано, как интерпретировать статистику
    передачи данных (ip -s link).

Работа продемонстрировала два complementary подхода к управлению сетью:
прямое, немедленное воздействие через ip (изменения вступают в силу тут
же, но сбрасываются после перезагрузки) и управление через персистентные
профили NetworkManager (изменения сохраняются и применяются
автоматически при загрузке). Понимание обоих подходов критически важно
для системного администратора.

1.  Какая команда отображает только статус соединения, но не IP-адрес?

> nmcli connection show (показывает состояние в колонке STATE) или nmcli
> device status.

2.  Какая служба управляет сетью в ОС типа RHEL?

> NetworkManager. Проверить статус: systemctl status NetworkManager.

3.  Какой файл содержит имя узла (устройства) в ОС типа RHEL?

> /etc/hostname.

4.  Какая команда позволяет вам задать имя узла (устройства)?

> hostnamectl set-hostname \<новое_имя\> (изменяет /etc/hostname и
> применяет изменение сразу).

5.  Какой конфигурационный файл можно изменить для включения разрешения
    имён для конкретного IP-адреса?

> /etc/hosts. Синтаксис: \<IP-адрес\> \<имя_хоста\> \[алиасы\...\].

6.  Какая команда показывает текущую конфигурацию маршрутизации?

> ip route show или ip r.

7.  Как проверить текущий статус службы NetworkManager?

> systemctl status NetworkManager или nmcli general status.

8.  Какая команда позволяет вам изменить текущий IP-адрес и шлюз по
    умолчанию для вашего сетевого соединения?

> Для временного изменения (до перезагрузки): ip addr add/del и ip route
> add default via.
>
> Для постоянного изменения через NetworkManager:
>
> [nmcli connection modify \"\<имя_профиля\>\" ipv4.addresses
> \"\<новый_IP/маска\>\" ipv4.gateway \"\<новый_шлюз\>\"]{.mark}
>
> [nmcli connection up \"\<имя_профиля\>\"]{.mark}
